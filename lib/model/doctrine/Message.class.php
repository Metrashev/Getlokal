<?php

/**
 * Message
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    getLokal
 * @subpackage model
 * @author     Get Lokal
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class Message extends BaseMessage {
  public function checkPageTo($page)
  {
       
      if ($this->getConversation()->getPageTo()->getId() == $page->getId())
      {
        return true;
      }
   
    return false;
  }

  public function read()
  {
        $this->setIsRead(true);
        $this->save();
  }
  
   public function getPageTo()
   {
   	return $this->getConversation()->getPageTo();
   }
   
   public function getText()
   {
   	if (!$this->getIsRead())
   	{
   		
   	 $this->setIsRead(true);
   	 $this->save();
   	}
   	return $this->getBody();
   }
}