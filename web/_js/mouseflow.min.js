if("undefined"==typeof mouseflow&&"undefined"==typeof mouseflowPlayback){var mouseflow=function(g){function p(){b._startTime=+new Date;b._bufferTime=+new Date;I=setInterval($,r._moveScrollInterval);J=setInterval(aa,r._pingInterval);ba();l&&console.log("MF: Recording starting, version "+C);var a=t("mf_block");if(ca(a)){f._isReturningUser=da();f._pageId=ea(b._startDateTime);if(""==f._sessionId||"-1"==f._sessionId||0<b._lastPageViewTime&&+new Date-b._lastPageViewTime>r._minTimeSinceLastVisitThatTriggersNewSession)f._sessionId= K();v("mf_"+q,f._sessionId+"|"+f._pageId+"|"+ +new Date,0,w());a=D()+"a.gif?v="+C+"&p="+q+"&s="+f._sessionId+"&page="+f._pageId+"&u="+f._isReturningUser+"&host="+encodeURIComponent(m.location.host)+"&prot="+encodeURIComponent(m.location.protocol)+"&path="+encodeURIComponent("undefined"==typeof mouseflowPath?m.location.pathname:mouseflowPath)+"&search="+encodeURIComponent("undefined"==typeof mouseflowPath?m.location.search:"")+"&hash="+encodeURIComponent(m.location.hash)+"&href="+encodeURIComponent(m.location.href)+ "&ref="+encodeURIComponent(m.referrer)+"&title="+encodeURIComponent(m.title)+"&res="+screen.width+"x"+screen.height+"&tz="+fa()+"&to="+f._hasTouch+"&jq="+f._hasJQuery+"&ori="+("undefined"!=typeof g.orientation?g.orientation:"");E(a,function(){u=!0;_mfq=new mouseflow.ActionQueue(_mfq)},function(){console.log("MF: Init image error - recording not starting.")});L();"undefined"==typeof mouseflowUseCssPaths&&(l&&console.log("MF: Creating DOM ids."),x("a","mfa"),x("form","mf_form"),x(":input","mfi"),x("body *", "mf"));b._currentScroll={x:k(m).scrollLeft(),y:k(m).scrollTop()};l&&console.log("MF: Recording started. Session: "+f._sessionId+", Page: "+f._pageId+", Last page: "+f._lastPageId)}else""==t("mf_"+q)?(l&&console.log("MF: Recording not started - recordingRate or blocked"),v("mf_"+q,"-1",0,w())):l&&console.log("MF: Recording not started - session blocked earlier")}function M(){l&&console.log("MF: Recording stopping");N();clearInterval(I);clearInterval(J);h(20,{});F();u=!1;l&&console.log("MF: Recording stopped")} function ga(){var a=JSON.stringify(b._dataCalls);b._dataCalls=[];a="website="+q+"&session="+f._sessionId+"&page="+f._pageId+"&type=variable&data="+encodeURIComponent(a);O(y+"data",a,function(){})}function ba(){var a=t("mf_"+q).split("|");""!=t("mf_session")?(a=t("mf_session").split("|"),P(a),v("mf_"+q,f._sessionId+"|"+f._lastPageId+"|"+b._lastPageViewTime),document.cookie="mf_session=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/; domain="+w()+";"):P(a);""==f._sessionId&&"undefined"!==typeof mouseflowSessionId&& (f._sessionId=mouseflowSessionId)}function P(a){f._sessionId=a[0];1<a.length&&(f._lastPageId=a[1]);2<a.length&&(b._lastPageViewTime=parseInt(a[2],10))}function ca(a){return ha||"-1"!=f._sessionId&&(""!=f._sessionId||1>=G||0==Math.floor(Math.random()*G))&&""==a}function da(){var a=t("mf_user");""==a&&v("mf_user","1",1,w());return a}function ea(a){return z(a.getMonth()+1,2)+z(a.getDate(),2)+z(a.getSeconds(),2)+z(a.getMilliseconds(),3).slice(1)+K()}function z(a,c){return(Array(c+1).join("0")+a).slice(-c)} function fa(){var a=new Date;return Math.max((new Date(a.getFullYear(),0,1)).getTimezoneOffset(),(new Date(a.getFullYear(),6,1)).getTimezoneOffset())}function L(){try{k(m).on("scroll.mouseflow",function(){b._currentScroll={x:k(m).scrollLeft(),y:k(m).scrollTop()}}).on("mousemove.mouseflow",function(a){b._currentMousePosition={x:a.pageX,y:a.pageY}}).on("click.mouseflow",function(a){Q(a,n(a.target))}).on("mousedown.mouseflow","a, :input",function(a){h(3,{x:a.pageX,y:a.pageY,target:n(k(this)[0])})}).on("click.mouseflow", "a, :input",function(a){Q(a,n(k(this)[0]))}).on("focus.mouseflow",":input",function(a){h(11,{target:n(a.target)})}).on("blur.mouseflow",":input",function(a){h(12,{target:n(a.target)})}).on("submit.mouseflow","form",function(a){h(13,{target:n(a.target)})}).on("error.mouseflow",function(a,c,b){h(15,{x:0,y:b})});try{var a=ia();k(a).on("mouseenter.mouseflow",function(a){h(6,{x:a.pageX,y:a.pageY,target:n(k(this)[0])})}).on("mouseleave.mouseflow",function(a){h(7,{x:a.pageX,y:a.pageY,target:n(k(this)[0])})})}catch(c){l&& console.log("MF: Error in getHoverSelectors: "+c.message)}if("undefined"==typeof mouseflowDisableKeyLogging||!0!=mouseflowDisableKeyLogging)k(m).on("keypress.mouseflow",":input:not([type=password]):not(.no-mouseflow)",function(a){h(8,{target:n(a.target)})}).on("keydown.mouseflow",":input:not([type=password]):not(.no-mouseflow)",function(a){h(33,{target:n(a.target),value:a.which.toString()})}).on("keyup.mouseflow",":input:not([type=password]):not(.no-mouseflow)",function(a){h(9,{target:n(a.target), value:k(this).val()})}).on("change.mouseflow",":input:not([type=password]):not(.no-mouseflow)",function(a){h(10,{target:n(a.target),value:a.target.value})});if(f._hasTouch)k(m).on("touchstart.mouseflow",function(a){a=a.originalEvent.changedTouches;0<a.length&&h(21,{x:a[0].pageX,y:a[0].pageY})}).on("touchmove.mouseflow",function(a){a=a.originalEvent.changedTouches;0<a.length&&(b._lastTouchMoveEventTime<+new Date-b._startTime-r._moveScrollInterval&&(h(22,{x:a[0].pageX,y:a[0].pageY}),b._lastTouchMoveEventTime= +new Date-b._startTime),b._currentScroll={x:k(m).scrollLeft(),y:k(m).scrollTop()},b._lastScrollEventTime<+new Date-b._startTime-r._moveScrollInterval&&!A(b._currentScroll,b._lastScroll)&&(b._lastScroll=b._currentScroll,h(1,b._currentScroll),b._lastScrollEventTime=+new Date-b._startTime))}).on("touchend.mouseflow",function(a){a=a.originalEvent.changedTouches;0<a.length&&(h(23,{x:a[0].pageX,y:a[0].pageY}),b._currentScroll={x:k(m).scrollLeft(),y:k(m).scrollTop()})}).on("orientationchange.mouseflow", function(){h(24,{x:g.orientation,y:0})})}catch(e){l&&console.log("MF: Error in bindDomEvents: "+e.message)}}function N(){k("*").unbind(".mouseflow")}function Q(a,c){if(!(20>+new Date-b._lastClickTime)){b._lastClickTime=+new Date;h(5,{x:a.pageX,y:a.pageY,target:c});var e;var d=a.target;d.getBoundingClientRect?(d=d.getBoundingClientRect(),d={x:d.left,y:d.top,width:d.width,height:d.height},/msie/i.test(navigator.appVersion)&&(d.x-=m.documentElement.clientLeft,d.y-=m.documentElement.clientTop),e=d):e= null;null!=e&&(d=parseInt((a.pageX-b._currentScroll.x-e.x)/parseFloat(e.width)*65535),e=parseInt((a.pageY-b._currentScroll.y-e.y)/parseFloat(e.height)*65535),h(4,{x:d,y:e,target:n(a.target)}))}}function ia(){for(var a={},c=/:hover/,b=0;b<m.styleSheets.length;b++){var d=m.styleSheets[b];try{for(var g=d.cssRules?d.cssRules:d.rules,f=0;f<g.length;f++){var h=d.cssRules[f];if(c.test(h.selectorText))for(var k=h.selectorText.split(","),s,n=0;n<k.length;n++)if(s=k[n].trim(),c.test(s)){for(var p=s=s.substring(0, s.indexOf(":hover")),q=[/:active/g,/:visited/g,/::before/g,/:before/g,/::after/g,/:after/g,/::first-letter/g,/::first-line/g,/::selection/g],r=0;r<q.length;r++)p=p.replace(q[r],"");s=p;s in a||(a[s]=!0)}}}catch(t){l&&console.log("MF: Cannot inspect external css file, :hover support may fail: "+d.href)}}c="a, .mf-listen";for(s in a)c+=", "+s;return c}function h(a,c){try{var e=[],d=-1;if(!(2<=a&&7>=a)||void 0!=c.x&&void 0!=c.y){H(+new Date-b._bufferTime,e);e.push(a);void 0!=c.x&&0>c.x&&(c.x=0);void 0!= c.y&&0>c.y&&(c.y=0);void 0!=c.x&&65534<c.x&&(c.x=65534);void 0!=c.y&&65534<c.y&&(c.y=65534);l&&2!=a&&console.log("MF: Event, type: "+a+", time: "+(+new Date-b._startTime)+", details: "+JSON.stringify(c));void 0!=c.x&&H(c.x,e);void 0!=c.y&&H(c.y,e);if(void 0!=c.target){"object"==typeof c.target&&void 0!=c.target.id&&(c.target=c.target.id);""!=c.target&&void 0!=document.getElementById(c.target)&&void 0!=document.getElementById(c.target).form&&(c.target=document.getElementById(c.target).form.id+"||"+ c.target);for(var f=0;f<b._elementIds.length;f++)if(b._elementIds[f]==c.target){d=f;break}""==c.target?e.push(254):-1==d?(e.push(b._elementIds.length),b._elementIds.push(c.target),b._newIds.push(c.target),b._newIdLength=B(b._newIds)):e.push(d)}else 2<a&&14!=a&&19>a&&e.push(255);void 0!=c.value&&(e.push(b._values.length),b._values.push(c.value),b._valueLength=B(b._values));if(b._data.length+e.length+b._newIdLength+b._valueLength>r._maxCharsToSendInUrl)c.value&&b._values.pop(),c.target&&-1==d&&b._newIds.pop(), F(),b._data=e,b._data[0]=0,b._data[1]=0,c.value&&b._values.push(c.value),c.target&&-1==d&&b._newIds.push(c.target),b._valueLength=B(b._values),b._newIdLength=B(b._newIds);else for(f=0;f<e.length;f++)b._data.push(e[f])}}catch(g){l&&console.log("MF: Error adding event type "+a+", error message: "+g.message)}}function $(){A(R(),b._lastViewport)||(b._lastViewport=R(),h(0,b._lastViewport));A(b._currentMousePosition,b._lastMousePosition)||(b._lastMousePosition=b._currentMousePosition,h(2,b._currentMousePosition)); A(b._currentScroll,b._lastScroll)||(b._lastScroll=b._currentScroll,h(1,b._currentScroll),b._lastScrollEventTime=+new Date-b._startTime)}function F(){var a=b._bufferTime-b._startTime;b._data.unshift(Math.floor(a/65536),Math.floor(Math.floor(a%65536)/256),a%65536%256,Math.floor(b._data.length)/256,b._data.length%256);b._chunks.push(S.e(b._data)+"."+T(b._newIds)+"."+T(b._values));b._data=[];b._values=[];b._newIds=[];b._bufferTime=+new Date;b._valueLength=b._newIdLength=0;ja()}function ja(){if(u&&0<b._chunks.length){for(var a= 0;a<b._chunks.length;a++)E(D()+"c.gif?p="+f._pageId+"&d="+b._chunks[a],function(){},function(){u=!1});b._chunks=[]}}function E(a,c,b){var d=new Image;d.src=a;d.onload=function(){3>this.width?c():b()};d.onerror=b}function O(a,c,b){if(g.XDomainRequest){var d=new g.XDomainRequest;d.open("post",a);d.onload=b;d.onerror=function(){l&&console.log("MF: XDR error: "+a)};d.onprogress=function(){l&&console.log("MF: XDR progress:"+a)};d.ontimeout=function(){l&&console.log("MF: XDR timeout:"+a)};d.send(c)}else g.XMLHttpRequest&& (d=new g.XMLHttpRequest,d.open("POST",a,!0),d.setRequestHeader("Content-type","text/plain"),d.onreadystatechange=function(){4==this.readyState&&200==this.status&&b()},d.send(c))}function aa(){0<b._data.length&&5E3<=+new Date-b._bufferTime&&(h(19,{}),F())}function A(a,c){return a.x==c.x&&a.y==c.y}function R(){var a={x:"undefined"!=typeof g.innerWidth?g.innerWidth:k(g).width(),y:"undefined"!=typeof g.innerHeight?g.innerHeight:k(g).height()};0==a.x&&0==a.y&&(a={x:document.getElementsByTagName("body")[0].clientWidth, y:document.getElementsByTagName("body")[0].clientHeight});return a}function n(a){if("undefined"==typeof mouseflowUseCssPaths)return a.id;try{var c=[];try{for(;1==a.nodeType;){var b="";if(a.id){b+="#"+a.id;c.unshift(b);break}else{for(var b=b+a.nodeName.toLowerCase(),d=a,f=1;d=d.previousElementSibling;)d.nodeName.toLowerCase()==b&&f++;1!=f&&(b+=":["+f+"]")}c.unshift(b);a=a.parentNode}}catch(g){l&&console.log("MF: Error in _getCssPath: "+g.message)}return c.join(" > ").replace("html > body > ","> ")}catch(h){l&& console.log("MF: Error in getElementPath: "+h.message)}return""}function x(a,c){var b=0;k(a).each(function(){this.id||"/"==this.tagName.charAt(0)||"#"==this.tagName.charAt(0)||"!"==this.tagName.charAt(0)||/SCRIPT|STYLE|META|TBODY|PARAM|EMBED|FIELD/.test(this.tagName.toUpperCase())||(this.id=c+b++)})}function H(a,b){b.push(Math.floor(a/256));b.push(a%256)}function T(a){for(var b="",e=0;e<a.length;e++)b+=(0<e?",":"")+U.encode(a[e]);return b}function B(a){for(var b=0,e=0;e<a.length;e++)b+=U.encode(a[e]).length+ 1;return 0<b?b-1:b}function w(){if("undefined"!=typeof mouseflowExcludeSubDomains&&!0==mouseflowExcludeSubDomains)return m.location.hostname;var a=m.location.href,a=a.replace(/^http(s)?\:\/\/?/i,"").replace(/^([^\/]+)\/.*/i,"$1"),a=/\.co\.|\.com\.|\.ac\.|\.org\.|\.gov\.|\.edu\.|\.net\./.test(a)?a.replace(/^([^\.]+\.){1,}([^\.]+\.[^\.]+\.[^\.]+)$/i,"$2"):a.replace(/^([^\.]+\.){1,}([^\.]+\.[^\.]+)$/i,"$2");return"."+a}function v(a,b,e,d){var f="";1==e&&(e=new Date,e.setTime(e.getTime()+r._farFutureCookieLifetime), f="; expires="+e.toGMTString());document.cookie=a+"="+b+f+"; path=/; domain="+d+";"}function t(a){var b=document.cookie.indexOf(a+"=");return-1!=b?(b=b+a.length+1,a=document.cookie.indexOf(";",b),-1==a&&(a=document.cookie.length),unescape(document.cookie.substring(b,a))):""}function K(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+a()+a()+a()+a()+a()+a()}function D(){return y.replace("//","https://")}function V(a){l&&console.log("MF: Initing recorder"); k=a;k(document).ready(function(){W=!0;X&&p()});"complete"!=m.readyState?k(g).load(function(){h(14,{x:0,y:k(document).height()});!W&&X&&(l&&console.log("MF: DOM-ready handler not executed, starting with onload handler"),p())}):(l&&console.log("MF: Onload was already fired, adding event directly."),h(14,{x:0,y:k(document).height()}));k(g).unload(function(){M()})}function ka(a,b){var e=Y(a),d=Y(b),f=Math.max(e.length,d.length);if("NaN"==d||"NaN"==e)return!1;for(var g=0;g<f;g++)if(e[g]=e[g]||0,d[g]=d[g]|| 0,e[g]!=d[g])return e[g]>d[g]?!0:!1;return!0}function Y(a){a=a.split(".");for(var b=[],e=0;e<a.length;e++)b.push(parseInt(a[e]));return b}var y="//e2.mouseflow.com/",q="176d19ff-5dd5-4d0d-b580-d5b10bf549ca",G=0,C="9.53",u=!1,l=-1<g.location.search.indexOf("mf_debug=1"),ha=-1<g.location.search.indexOf("mf_force=1"),X="undefined"!=typeof mouseflowAutoStart?mouseflowAutoStart:-1==g.location.search.indexOf("mf_autostart=0"),W=!1,k,f={_sessionId:"",_pageId:"",_isReturningUser:"0",_hasTouch:+("ontouchstart"in g&&("undefined"==typeof mouseflowDisableTouch||!0!=mouseflowDisableTouch)),_hasJQuery:"0"},b={_startDateTime:new Date,_startTime:+new Date,_bufferTime:+new Date,_lastPageViewTime:0,_data:[],_chunks:[],_values:[],_elementIds:[],_newIds:[],_valueLength:0,_newIdLength:0,_lastClickTime:0,_currentMousePosition:{x:0,y:0},_lastMousePosition:{x:0,y:0},_lastTouchMoveEventTime:-100,_currentScroll:{x:0,y:0},_lastScroll:{x:0,y:0},_lastViewport:{x:0,y:0},_lastScrollEventTime:-100,_dataCalls:[]},r={_moveScrollInterval:100, _pingInterval:1E4,_maxCharsToSendInUrl:1442,_minTimeSinceLastVisitThatTriggersNewSession:36E5,_farFutureCookieLifetime:7776E6},I=0,J=0,Z=0,m=g.document,S=new function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b=64;b;)--b;this.e=function(b){for(var c=[],f=0,g=0,h,k=b.length,l=k%3;f<k;)c[g++]=a[(h=b[f++]<<16|b[f++]<<8|b[f++])>>18&63]+a[h>>12&63]+a[h>>6&63]+a[h&63];if(l)for(c[--g]=c[g].substr(0,c[g].length-(l=3-l));l--;)c[g]+="*";return c.join("")}},U={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", encode:function(a){var b="",e,d,f,g,h,k,l=0;for(a=this._utf8_encode(a);l<a.length;)e=a.charCodeAt(l++),d=a.charCodeAt(l++),f=a.charCodeAt(l++),g=e>>2,e=(e&3)<<4|d>>4,h=(d&15)<<2|f>>6,k=f&63,isNaN(d)?h=k=64:isNaN(f)&&(k=64),b=b+this._keyStr.charAt(g)+this._keyStr.charAt(e)+this._keyStr.charAt(h)+this._keyStr.charAt(k);return b},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",e=0;e<a.length;e++){var d=a.charCodeAt(e);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>> 6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}};(function(){if("undefined"==typeof mouseflowPlayback){var a=!1;"undefined"!=typeof jQuery&&ka(jQuery.fn.jquery,"1.7.0")?(l&&console.log("MF: New jQuery found, version: "+jQuery.fn.jquery),f._hasJQuery="1",a=!0):"undefined"!=typeof jQuery?(l&&console.log("MF: Old jQuery found, version: "+jQuery.fn.jquery+", adding new one."),f._hasJQuery="1"):l&&console.log("MF: jQuery not found, adding"); if(a)V(jQuery);else{var b=!1,a=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js?ref=mouseflow";e.onload=e.onreadystatechange=function(){if(!(b||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState)){b=!0;var a=jQuery.noConflict(!0);V(a)}};a.appendChild(e)}}})();return{start:p,stop:M,newPageView:function(){console.log("This feature requires session support")},rebindEventHandlers:function(){N(); L()},getSessionId:function(){return f._sessionId},getPageViewId:function(){return f._pageId},tag:function(a){h(18,{target:a})},star:function(){h(18,{target:"*"})},setVariable:function(a,c,e,d){a&&(b._dataCalls.push({key:a.toString(),value:c.toString()||"",scope:e||"session",overwrite:void 0===d?!0:d}),g.clearTimeout(Z),Z=g.setTimeout(ga,1E3))},sendScript:function(a){a="website="+q+"&session="+f._sessionId+"&page="+f._pageId+"&type=script&time="+(+new Date-b._startTime)+"&data="+encodeURIComponent(a); O(y+"post",a,function(){})},formSubmitAttempt:function(a){h(13,{target:a.id})},formSubmitSuccess:function(a){h(34,{target:a.id})},formSubmitFailure:function(a){a?h(35,{target:a.id}):(a=S.e([0,0,0,0,0,0,0,35])+"..",E(D()+"c.gif?p="+f._lastPageId+"&d="+a,function(){},function(){}))},debug:function(){l=!l;console.log("MF: Debugging "+(l?"enabled":"disabled"))},baseUrl:y,websiteId:q,recordingRate:G,version:C,isRecording:u}}(window);void 0==window._mfq&&(window._mfq=[]);mouseflow.ActionQueue=function(g){if(g&& g.length)for(var p=0;p<g.length;p++)this.push(g[p])};mouseflow.ActionQueue.prototype.push=function(g){if(g)if("object"==typeof g&&g.length){var p=g.splice(0,1);mouseflow[p]&&mouseflow[p].apply(mouseflow,g)}else"function"==typeof g&&g()}};